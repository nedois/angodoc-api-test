{"version":3,"sources":["webpack:///./resources/js/dashboard/utils/permissions.js","webpack:///./resources/js/dashboard/components/BreadCrumbsHeader.js","webpack:///./resources/js/dashboard/components/Header.js","webpack:///./resources/js/dashboard/components/Page.js","webpack:///./resources/js/dashboard/components/AgencyCard.js","webpack:///./resources/js/dashboard/components/DocumentCard.js","webpack:///./resources/js/dashboard/pages/documents/DocumentShowPage/DocumentCardActions.js","webpack:///./resources/js/dashboard/pages/documents/DocumentShowPage/index.js","webpack:///./resources/js/dashboard/utils/axios.js","webpack:///./resources/js/dashboard/hooks/useIsMountedRef.js","webpack:///./resources/js/dashboard/components/FinderCard.js"],"names":["canEditDocument","documentAgencyId","user","agency","parseInt","id","role","BreadCrumbsHeader","items","Breadcrumbs","separator","fontSize","aria-label","map","item","key","to","Link","variant","color","component","RouterLink","label","Typography","active","propTypes","PropTypes","array","isRequired","useStyles","makeStyles","theme","root","action","marginBottom","spacing","marginLeft","Header","className","breadcrumbItems","title","actionButtonType","actionButtonLabel","actionButtonTo","children","rest","classes","Grid","clsx","container","justify","Box","mt","Button","startIcon","SvgIcon","string","Page","forwardRef","ref","node","fontWeightMedium","fontWeight","typography","actionIcon","marginRight","AgencyCard","Card","CardHeader","Divider","Table","TableBody","TableRow","TableCell","attributes","name","address","province","p","display","flexDirection","alignItems","DocumentCard","document","reference","document_type","owner","date_emission","creator","commentary","recovered_at","deleteAction","palette","common","white","backgroundColor","error","main","dark","checkAction","success","marginTop","DocumentCardActions","isRecovered","setIsRecovered","isDeleted","submitting","setSubmitting","useState","enqueueSnackbar","useSnackbar","useAuth","DOCUMENTS","URI","disabled","onClick","async","axios","post","API_OLD_URL","then","response","catch","message","delete","proptypes","bool","func","background","minHeight","paddingTop","paddingBottom","DocumentShowPage","match","isMountedRef","useIsMountedRef","setDocument","params","getDocument","useCallback","get","API_URL","current","data","useEffect","Container","CREATE_URI","lg","sx","included","deleted_at","FinderCard","finder","LoadingScreen","csrfToken","querySelector","getAttribute","axiosInstance","create","interceptors","use","Promise","reject","defaults","headers","isMounted","useRef","first_name","last_name","age","bi","gender","job","phone_number","FINDERS","object"],"mappings":"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","file":"24.js","sourcesContent":["export const canEditDocument = (documentAgencyId, user) =>\r\n    user.agency && parseInt(documentAgencyId) === user.agency.id || user.role === \"administrador\";\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Breadcrumbs, Link, Typography } from \"@material-ui/core\";\r\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\r\n\r\nfunction BreadCrumbsHeader({ items }) {\r\n    return (\r\n        <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n            {items.map((item, key) => {\r\n                if (item.to) {\r\n                    return (\r\n                        <Link key={key} variant=\"body1\" color=\"inherit\" to={item.to} component={RouterLink}>\r\n                            {item.label}\r\n                        </Link>\r\n                    );\r\n                } else {\r\n                    return (\r\n                        <Typography key={key} variant=\"body1\" color={item.active ? \"textPrimary\" : \"inherit\"}>\r\n                            {item.label}\r\n                        </Typography>\r\n                    );\r\n                }\r\n            })}\r\n        </Breadcrumbs>\r\n    );\r\n}\r\n\r\nBreadCrumbsHeader.propTypes = {\r\n    items: PropTypes.array.isRequired\r\n};\r\n\r\nexport default BreadCrumbsHeader;\r\n","import React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport { Box, Button, Grid, SvgIcon, Typography, makeStyles } from \"@material-ui/core\";\nimport { PlusCircle as PlusCircleIcon, Edit as EditIcon } from \"react-feather\";\n\nimport BreadCrumbsHeader from \"@dashboard/components/BreadCrumbsHeader\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {},\n    action: {\n        marginBottom: theme.spacing(1),\n        \"& + &\": {\n            marginLeft: theme.spacing(1)\n        }\n    }\n}));\n\nconst Header = ({\n    className,\n    breadcrumbItems,\n    title,\n    actionButtonType,\n    actionButtonLabel,\n    actionButtonTo,\n    children,\n    ...rest\n}) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <Grid className={clsx(classes.root, className)} container justify=\"space-between\" spacing={3} {...rest}>\n                <Grid item>\n                    <BreadCrumbsHeader items={breadcrumbItems} />\n                    <Box mt={2}>\n                        <Typography variant=\"h3\" color=\"textPrimary\">\n                            {title}\n                        </Typography>\n                    </Box>\n                </Grid>\n\n                {actionButtonTo && (\n                    <Grid item>\n                        <Button\n                            color=\"secondary\"\n                            variant=\"contained\"\n                            component={RouterLink}\n                            to={actionButtonTo}\n                            startIcon={\n                                <SvgIcon fontSize=\"small\">\n                                    {actionButtonType === \"edit\" ? <EditIcon /> : <PlusCircleIcon />}\n                                </SvgIcon>\n                            }\n                        >\n                            {actionButtonLabel}\n                        </Button>\n                    </Grid>\n                )}\n            </Grid>\n            {children}\n        </>\n    );\n};\n\nHeader.propTypes = {\n    className: PropTypes.string,\n    breadcrumbItems: PropTypes.array.isRequired,\n    title: PropTypes.string.isRequired,\n    actionButtonType: PropTypes.string,\n    actionButtonLabel: PropTypes.string,\n    actionButtonTo: PropTypes.string\n};\n\nexport default Header;\n","import React, { forwardRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport PropTypes from \"prop-types\";\n\nconst Page = forwardRef(({ children, title = \"\", ...rest }, ref) => {\n    return (\n        <div ref={ref} {...rest}>\n            <Helmet>\n                <title>{title}</title>\n            </Helmet>\n            {children}\n        </div>\n    );\n});\n\nPage.propTypes = {\n    children: PropTypes.node.isRequired,\n    title: PropTypes.string\n};\n\nexport default Page;\n","import React from \"react\";\nimport {\n    Box,\n    Button,\n    makeStyles,\n    Card,\n    CardHeader,\n    Divider,\n    Table,\n    TableCell,\n    TableBody,\n    TableRow,\n    Typography\n} from \"@material-ui/core\";\nimport BusinessIcon from \"@material-ui/icons/Business\";\n\nconst useStyles = makeStyles(theme => ({\n    fontWeightMedium: {\n        fontWeight: theme.typography.fontWeightMedium\n    },\n    actionIcon: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nfunction AgencyCard({ agency }) {\n    const classes = useStyles();\n\n    return (\n        <Card>\n            <CardHeader title=\"Agência\" />\n            <Divider />\n            <Table>\n                <TableBody>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Nome</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {agency.attributes.name}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Endereço</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {agency.attributes.address}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Província</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {agency.attributes.province}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n            <Box p={1} display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\n                <Button>\n                    <BusinessIcon className={classes.actionIcon} />\n                    Ver agência\n                </Button>\n            </Box>\n        </Card>\n    );\n}\n\nexport default AgencyCard;\n","import React from \"react\";\nimport {\n    makeStyles,\n    Card,\n    CardHeader,\n    Divider,\n    Table,\n    TableCell,\n    TableBody,\n    TableRow,\n    Typography\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    fontWeightMedium: {\n        fontWeight: theme.typography.fontWeightMedium\n    }\n}));\n\nfunction DocumentCard({ document, children }) {\n    const classes = useStyles();\n\n    return (\n        <Card>\n            <CardHeader title=\"Documentos\" />\n            <Divider />\n            <Table>\n                <TableBody>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Referência</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.reference}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Tipo</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.document_type}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Proprietário</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.owner}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Data de emissão</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.date_emission}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Registado por</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.creator}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Comentário</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.commentary ? document.attributes.commentary : \"Sem comentários\"}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Recuperado</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {document.attributes.recovered_at ? document.attributes.recovered_at : \"Não\"}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n            {children}\n        </Card>\n    );\n}\n\nexport default DocumentCard;\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { Box, Button, makeStyles } from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport { Edit as EditIcon } from \"react-feather\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport axios from \"@dashboard/utils/axios\";\r\nimport useAuth from \"@dashboard/hooks/useAuth\";\r\nimport { API_OLD_URL } from \"@dashboard/constants\";\r\nimport { canEditDocument } from \"@dashboard/utils/permissions\";\r\nimport { DOCUMENTS } from \"@dashboard/routes/uris\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    fontWeightMedium: {\r\n        fontWeight: theme.typography.fontWeightMedium\r\n    },\r\n    actionIcon: {\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    deleteAction: {\r\n        color: theme.palette.common.white,\r\n        backgroundColor: theme.palette.error.main,\r\n        \"&:hover\": {\r\n            backgroundColor: theme.palette.error.dark\r\n        }\r\n    },\r\n    checkAction: {\r\n        color: theme.palette.common.white,\r\n        backgroundColor: theme.palette.success.main,\r\n        \"&:hover\": {\r\n            backgroundColor: theme.palette.success.dark\r\n        },\r\n        marginTop: theme.spacing(1),\r\n        marginBottom: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nfunction DocumentCardActions({ id, isRecovered, setIsRecovered, isDeleted, documentAgencyId }) {\r\n    const classes = useStyles();\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { user } = useAuth();\r\n\r\n    const markAsRecovered = async () => {\r\n        setSubmitting(true);\r\n        await axios\r\n            .post(`${API_OLD_URL}/documents/${id}/markAsRecovered`)\r\n            .then(response => {\r\n                enqueueSnackbar(\"Documento marcado como recuperado\", {\r\n                    variant: \"success\"\r\n                });\r\n                setSubmitting(false);\r\n                setIsRecovered(true);\r\n            })\r\n            .catch(error => {\r\n                setSubmitting(false);\r\n                enqueueSnackbar(error.message, {\r\n                    variant: \"error\"\r\n                });\r\n            });\r\n    };\r\n\r\n    const deleteDocument = async () => {\r\n        setSubmitting(true);\r\n        await axios\r\n            .delete(`${API_OLD_URL}/documents/${id}`)\r\n            .then(response => {\r\n                setSubmitting(false);\r\n\r\n                enqueueSnackbar(\"Documento deletado\", {\r\n                    variant: \"success\"\r\n                });\r\n            })\r\n            .catch(error => {\r\n                setSubmitting(false);\r\n                enqueueSnackbar(error.message, {\r\n                    variant: \"error\"\r\n                });\r\n            });\r\n    };\r\n\r\n    return (\r\n        <Box p={1} display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\r\n            {canEditDocument(documentAgencyId, user) ? (\r\n                <>\r\n                    <Button\r\n                        component={RouterLink}\r\n                        to={`${DOCUMENTS.URI}/${id}/editar`}\r\n                        disabled={submitting || !!isRecovered || !!isDeleted}\r\n                    >\r\n                        <EditIcon className={classes.actionIcon} />\r\n                        Editar documento\r\n                    </Button>\r\n                    <Button\r\n                        className={classes.checkAction}\r\n                        onClick={markAsRecovered}\r\n                        disabled={submitting || !!isRecovered || !!isDeleted}\r\n                    >\r\n                        <CheckIcon className={classes.actionIcon} />\r\n                        Marcar como recuperado\r\n                    </Button>\r\n                    <Button\r\n                        className={classes.deleteAction}\r\n                        onClick={deleteDocument}\r\n                        disabled={submitting || !!isDeleted || !!isRecovered}\r\n                    >\r\n                        <DeleteIcon className={classes.actionIcon} />\r\n                        Apagar documento\r\n                    </Button>\r\n                </>\r\n            ) : null}\r\n        </Box>\r\n    );\r\n}\r\n\r\nDocumentCardActions.proptypes = {\r\n    id: PropTypes.string.isRequired,\r\n    isRecovered: PropTypes.bool.isRequired,\r\n    setIsRecovered: PropTypes.func.isRequired\r\n};\r\n\r\nexport default DocumentCardActions;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Box, Container, Grid, makeStyles } from \"@material-ui/core\";\r\n\r\nimport axios from \"@dashboard/utils/axios\";\r\nimport useIsMountedRef from \"@dashboard/hooks/useIsMountedRef\";\r\nimport { API_URL } from \"@dashboard/constants\";\r\nimport Header from \"@dashboard/components/Header\";\r\nimport Page from \"@dashboard/components/Page\";\r\nimport { DOCUMENTS } from \"@dashboard/routes/uris\";\r\nimport LoadingScreen from \"@dashboard/components/LoadingScreen\";\r\nimport FinderCard from \"@dashboard/components/FinderCard\";\r\nimport AgencyCard from \"@dashboard/components/AgencyCard\";\r\nimport DocumentCard from \"@dashboard/components/DocumentCard\";\r\nimport useAuth from \"@dashboard/hooks/useAuth\";\r\nimport DocumentCardActions from \"./DocumentCardActions\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.dark,\r\n        minHeight: \"100%\",\r\n        paddingTop: theme.spacing(3),\r\n        paddingBottom: theme.spacing(3)\r\n    }\r\n}));\r\n\r\nconst breadcrumbItems = [\r\n    {\r\n        label: \"Recursos\"\r\n    },\r\n    {\r\n        label: \"Documentos\",\r\n        to: DOCUMENTS.URI\r\n    },\r\n    {\r\n        label: \"Detalhes do documento\",\r\n        active: true\r\n    }\r\n];\r\n\r\nfunction DocumentShowPage({ match }) {\r\n    const classes = useStyles();\r\n    const isMountedRef = useIsMountedRef();\r\n    const [document, setDocument] = useState(null);\r\n    const [isRecovered, setIsRecovered] = useState(document && document.recovered_at);\r\n    const { id } = match.params;\r\n    const { user } = useAuth();\r\n\r\n    const getDocument = useCallback(() => {\r\n        axios.get(`${API_URL}/documents/${id}?include=agency,finder`).then(response => {\r\n            if (isMountedRef.current) {\r\n                setDocument(response.data);\r\n                setIsRecovered(response.data.data.attributes.recovered_at);\r\n            }\r\n        });\r\n    }, [isMountedRef]);\r\n\r\n    useEffect(() => {\r\n        getDocument();\r\n    }, [getDocument]);\r\n\r\n    if (!document) {\r\n        return <LoadingScreen />;\r\n    }\r\n\r\n    return (\r\n        <Page className={classes.root} title={`Detalhes do documento ${document.data.attributes.reference}`}>\r\n            <Container>\r\n                <Header\r\n                    title={`Detalhes do documento ${document.data.attributes.reference}`}\r\n                    breadcrumbItems={breadcrumbItems}\r\n                    actionButtonTo={user.role != \"administrador\" ? DOCUMENTS.CREATE_URI : null}\r\n                    actionButtonLabel=\"Registar documento\"\r\n                />\r\n                <Box mt={2}>\r\n                    <Grid container spacing={3}>\r\n                        <Grid container spacing={3}>\r\n                            <Grid item lg={4} sx={12}>\r\n                                <DocumentCard document={document.data}>\r\n                                    <DocumentCardActions\r\n                                        id={document.data.id}\r\n                                        documentAgencyId={document.included[1].id}\r\n                                        setIsRecovered={setIsRecovered}\r\n                                        isRecovered={isRecovered}\r\n                                        isDeleted={document.data.attributes.deleted_at && true}\r\n                                    />\r\n                                </DocumentCard>\r\n                            </Grid>\r\n                            <Grid item lg={4} sx={12}>\r\n                                <AgencyCard agency={document.included[1]} />\r\n                            </Grid>\r\n                            <Grid item lg={4} sx={12}>\r\n                                <FinderCard finder={document.included[0]} />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n            </Container>\r\n        </Page>\r\n    );\r\n}\r\n\r\nexport default DocumentShowPage;\r\n","import axios from \"axios\";\n\nconst csrfToken = document.querySelector(\"[name=csrf-token]\").getAttribute(\"content\");\nconst axiosInstance = axios.create();\n\naxiosInstance.interceptors.response.use(\n    response => response,\n    error => Promise.reject((error.response && error.response.data) || \"Something went wrong\")\n);\n\naxiosInstance.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\";\naxiosInstance.defaults.headers.common[\"X-CSRF-TOKEN\"] = csrfToken;\n\nexport default axiosInstance;\n","import { useRef, useEffect } from \"react\";\n\nconst useIsMountedRef = () => {\n    const isMounted = useRef(true);\n\n    useEffect(\n        () => () => {\n            isMounted.current = false;\n        },\n        []\n    );\n\n    return isMounted;\n};\n\nexport default useIsMountedRef;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport {\n    Box,\n    Button,\n    makeStyles,\n    Card,\n    CardHeader,\n    Divider,\n    Table,\n    TableCell,\n    TableBody,\n    TableRow,\n    Typography\n} from \"@material-ui/core\";\nimport PersonIcon from \"@material-ui/icons/PersonOutline\";\nimport { FINDERS } from \"@dashboard/routes/uris\";\n\nconst useStyles = makeStyles(theme => ({\n    fontWeightMedium: {\n        fontWeight: theme.typography.fontWeightMedium\n    },\n    actionIcon: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nfunction FinderCard({ finder }) {\n    const classes = useStyles();\n\n    return (\n        <Card>\n            <CardHeader title=\"Encontrador\" />\n            <Divider />\n            <Table>\n                <TableBody>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Nome</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {`${finder.attributes.first_name} ${finder.attributes.last_name}`}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Idade</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.age} anos\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>N° BI</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.bi}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Sexo</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.gender === \"M\" ? \"Masculino\" : \"Feminino\"}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Ocupação</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.job}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Endereço</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.address}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Provincia</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.province}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell className={classes.fontWeightMedium}>Telefone</TableCell>\n                        <TableCell>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                {finder.attributes.phone_number}\n                            </Typography>\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n            <Box p={1} display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\n                <Button component={RouterLink} to={`${FINDERS.URI}/${finder.id}`}>\n                    <PersonIcon className={classes.actionIcon} />\n                    Ver encontrador\n                </Button>\n            </Box>\n        </Card>\n    );\n}\nFinderCard.propTypes = {\n    finder: PropTypes.object.isRequired\n};\n\nexport default FinderCard;\n"],"sourceRoot":""}